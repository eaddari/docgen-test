[H1] Extract Custom Entities Azure AI Language Service ## ProblemYou need build, train, deploy, test custom entity extraction model using Azure AI Language Service unstructured text (classified ads case).## Solution AzureUseAzure AI Language Service - Custom Named Entity Recognition (Custom NER)via:-Azure portal + Language Studioproject creation labeling-Azure SDK (C# / Python)consume model client application## Components Required- Azure AI Language resource (Custom Text Classification & Extraction feature enabled)- Azure Storage account (blob storage)- Azure Role assignment:Storage Blob Data Contributor- Sample ads dataset: Language Studio- Visual Studio Code with: - Azure AI Text Analytics SDK Azure.AI.TextAnalytics 5.3.0 - Git clone repository: Architecture / Development### 1 Provision Azure AI Language Resource- Create Language resource Azure portal- EnableCustom named entity recognition extraction- Supported regions: East US, West Europe, UK South, etc.- Pricing tier: F0 (free) S (standard)- Create new storage account (Standard LRS)- Assign role:Storage Blob Data Contributoruser### 2 Upload Training Data- Download sample ads: Upload files blob containerclassifieds(anonymous read access enabled)### 3 Create Project Language Studio- Project type:Custom Named Entity Recognition- Project name:CustomEntityLab- Language:English (US)- Container:classifieds- Files pre-labeled: select "No, I need label files part project."### 4 Label DataCreate 3 entities:-ItemForSale-Price-LocationLabel text files:| File | Entity | Example ||------|--------|---------|| Ad 1.txt | ItemForSale | face cord firewood || Ad 1.txt | Location | Denver, CO || Ad 1.txt | Price | $90 |Label ads save labels.### 5 Train Model- Model name:ExtractAds- Split type:Automatically split testing set- Start training### 6 Evaluate Model- Review model metrics (precision, recall, F1 score)- UseModel performancecheck testing documents- Analyze failed extractions guide improvements### 7 Deploy Model- Deployment name:AdEntities- Deploy trained modelExtractAds### 8 Develop Client ApplicationClone repo:bash project: `Labfiles/05-custom-entity-recognition/custom-entities` VS Code.Install SDK:**C#:**bashdotnet add package Azure.AI.TextAnalytics --version 5.3.0**Python:**bashpip install azure-ai-textanalytics==5.3.0Configure app settings:- **C#**: `appsettings.json`- **Python**: `.env`Set: `aiSvcKey`, `aiSvcEndpoint`, `projectName`, `deploymentName`.### 9 Add Code Extract Entities#### Import namespaces:**C#:**csharpusing Azure;using Azure.AI.TextAnalytics;**Python:**pythonfrom azure.core.credentials import AzureKeyCredentialfrom azure.ai.textanalytics import TextAnalyticsClient#### Create client:**C#:**csharpAzureKeyCredential credentials = new(aiSvcKey);Uri endpoint = new(aiSvcEndpoint);TextAnalyticsClient aiClient = new(endpoint, credentials);**Python:**pythoncredential = AzureKeyCredential(ai_key)ai_client = TextAnalyticsClient(endpoint=ai_endpoint, credential=credential)#### Extract entities:**C#:**csharpRecognizeCustomEntitiesOperation operation = await aiClient.RecognizeCustomEntitiesAsync( WaitUntil.Completed, batchedDocuments, projectName, deploymentName);**Python:**pythonoperation = ai_client.begin_recognize_custom_entities( batchedDocuments, project_name=project_name, deployment_name=deployment_name)document_results = operation.result()### Test ApplicationRun app:**C#:**bashdotnet run**Python:**bashpython custom-entities.py```Output:Lists recognized entities confidence score document.## Best Practice / Considerations- Assign roleStorage Blob Data Contributoravoid authorization errors- Use high-quality, diverse real-world data training- Avoid ambiguous entity definitions- Use confusion matrix model metrics iteratively improve- Secure storage access production (avoid anonymous access)## Exam-like Sample Questions### Question 1:Which task kind specified submitting extraction jobs custom entity recognition?A. CustomTextClassification B. CustomEntityRecognition C. RecognizeEntitiesAnswer: B### Question 2:Which dataset used lab custom entity extraction?A. Classified ads B. News articles C. Financial statementsAnswer: A### Question 3:Which entities defined extraction?A. Category, Price, Description B. ItemForSale, Price, Location C. ItemName, Country, ContactAnswer: B### Question 4:What SDK version installed?A. 4.2.0 B. 5.3.0 C. 3.1.0Answer: B### Question 5:Which split type used training lab?A. Manual split B. No split C. Automatic splitAnswer: C