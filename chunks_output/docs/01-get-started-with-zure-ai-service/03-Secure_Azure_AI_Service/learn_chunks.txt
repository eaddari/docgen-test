[H1] Azure AI Services Security Guide## ProblemYou need secure access Azure AI services. How authenticate users/applications manage network security protect resources unauthorized access?## Solution AzureUse combination authentication methods (keys, Microsoft Entra ID, managed identities) network access controls (IP restrictions, virtual networks, private endpoints) protect Azure AI services. Additionally, use Azure Key Vault manage secrets securely.## Required Components- Azure AI Services- Microsoft Entra ID (formerly Azure AD)- Azure Key Vault- Azure Virtual Network (VNet)- Private Endpoints- Firewall/IP Access Rules- Azure CLI / PowerShell- Managed Identity (System/User-assigned)- Role-based Access Control (RBAC)## Architecture / Development### Authentication via Subscription Keys- Default authentication method many Azure AI services- Two keys provided per service allow rotation without downtime- Regenerate keys regularly using: - Azure Portal -az cognitiveservices account keys
Default authentication method many Azure AI services- Two keys provided per service allow rotation without downtime- Regenerate keys regularly using: - Azure Portal -az cognitiveservices account keys regenerate(CLI)Key rotation steps:1. Use one key production2. Regenerate unused key3. Switch apps use new key4. Regenerate original key### Storing Keys Azure Key Vault- Use Key Vault securely store AI service keys- Access controlled via managed identities- Avoid hardcoding secrets applications### Token-Based Authentication- Some REST APIs require token-based auth- Subscription key exchanged short-lived token (10 minutes)- SDKs handle token retrieval/usage automatically### Microsoft Entra ID AuthenticationUsed AI Foundry services.Authenticate via:Service Principals- Register application- Create service principal viaNew-AzADServicePrincipal- Assign role: "Cognitive Services User"Managed Identities- System-assigned (one resource)- User-assigned (reusable across resources)Example
Create service principal viaNew-AzADServicePrincipal- Assign role: "Cognitive Services User"Managed Identities- System-assigned (one resource)- User-assigned (reusable across resources)Example (system-assigned):```bashaz vm identity assign -g <group
